<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>TERAN-XMD Pair Code</title>
<link rel="stylesheet" href="css/all.min.css">
<style>
  body {
    margin: 0;
    overflow: hidden;
    font-family: Arial, sans-serif;
    height: 100vh;
    color: white;
    position: relative;
  }

  /* Animated Canva-style gradient background */
  #gradientBg {
    position: fixed;
    top: 0;
    left: 0;
    width: 200%;
    height: 200%;
    background: linear-gradient(270deg, #00c4cc, #8a2be2, #ff7f50, #ffd700, #ff1493, #32cd32);
    background-size: 1200% 1200%;
    animation: gradientMove 30s ease infinite;
    z-index: 0;
  }
  @keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1;
  }

  .container {
    position: relative;
    z-index: 2;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
  }

  /* Your image */
  .profile-img {
    max-width: 200px;
    border-radius: 15px;
    border: 3px solid white;
    box-shadow: 0 0 20px rgba(255,255,255,0.6);
    margin-bottom: 20px;
  }

  h1 {
    font-size: 3rem;
    text-shadow:
      0 0 10px #ff00ff,
      0 0 20px #ff00ff,
      0 0 40px #00ffff,
      0 0 80px #ffff00;
    animation: glow 3s ease-in-out infinite;
    margin-bottom: 10px;
    text-align: center;
  }
  @keyframes glow {
    0%, 100% {
      text-shadow:
        0 0 10px #ff00ff,
        0 0 20px #ff00ff,
        0 0 40px #00ffff,
        0 0 80px #ffff00;
    }
    50% {
      text-shadow:
        0 0 20px #00ffff,
        0 0 40px #ffff00,
        0 0 80px #ff00ff,
        0 0 160px #ff0000;
    }
  }

  .box {
    width: 300px;
    padding: 20px;
    text-align: center;
    background-color: rgba(255,255,255,0.15);
    border-radius: 10px;
    backdrop-filter: blur(5px);
  }
  .input-container {
    display: flex;
    border-radius: 1rem;
    background: linear-gradient(45deg, #c5c5c5 0%, #ffffff 100%);
    padding: 0.3rem;
    gap: 0.3rem;
    width: 100%;
  }
  .input-container input {
    border-radius: 0.8rem 0 0 0.8rem;
    background: #e8e8e8;
    flex: 1;
    padding: 1rem;
    border: none;
    color: #5e5e5e;
    transition: all 0.2s ease-in-out;
  }
  .input-container input:focus {
    outline: none;
    border-left: 2px solid #ff9d9d;
  }
  .input-container button {
    padding: 1rem;
    background: linear-gradient(135deg, #8a2be2 0%, #800080 100%);
    font-weight: 900;
    letter-spacing: 0.1rem;
    text-transform: uppercase;
    color: white;
    border: none;
    border-radius: 0 1rem 1rem 0;
    transition: all 0.2s ease-in-out;
  }
  .input-container button:hover {
    background: linear-gradient(135deg, #A8E4A0 0%, #32CD32 100%);
    color: red;
  }
  #pair {
    margin-top: 10px;
    font-weight: bold;
    color: white;
    min-height: 30px;
  }
</style>
</head>
<body>

<!-- Canva-style gradient background -->
<div id="gradientBg"></div>

<!-- Particle canvas -->
<canvas id="bg"></canvas>

<!-- Foreground content -->
<div class="container">
  <!-- Your image here -->
  <img class="profile-img" src="https://i.postimg.cc/wt4LMP49/IMG-20250810-WA0026.jpg" alt="TERAN-XMD">
  <h1>TERAN-XMD</h1>
  <div class="box">
    <h4>‚öô Enter your number with country code ‚öô</h4>
    <div class="input-container">
      <input placeholder="2637147XX" type="number" id="number">
      <button id="submit">Enter</button>
    </div>
    <main id="pair"></main>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
<script>
  // Particle Background
  const canvas = document.getElementById('bg');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let particles = [];
  const colors = ['#ff0000', '#ff9900', '#33ff00', '#00ffff', '#ff00ff', '#ffff00'];

  class Particle {
    constructor(){
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.size = Math.random() * 5 + 1;
      this.speedX = (Math.random() - 0.5) * 2;
      this.speedY = (Math.random() - 0.5) * 2;
      this.color = colors[Math.floor(Math.random() * colors.length)];
    }
    update(){
      this.x += this.speedX;
      this.y += this.speedY;
      if(this.x < 0 || this.x > canvas.width) this.speedX *= -1;
      if(this.y < 0 || this.y > canvas.height) this.speedY *= -1;
    }
    draw(){
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fillStyle = this.color;
      ctx.shadowBlur = 20;
      ctx.shadowColor = this.color;
      ctx.fill();
    }
  }

  function init(){
    particles = [];
    for(let i = 0; i < 150; i++){
      particles.push(new Particle());
    }
  }

  function animateParticles(){
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      p.update();
      p.draw();
    });
    requestAnimationFrame(animateParticles);
  }

  window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    init();
  });

  init();
  animateParticles();

  // Typewriter effect for code
  function typeWriter(el, text, speed = 100) {
    el.innerHTML = "";
    let i = 0;
    function typing(){
      if(i < text.length){
        el.innerHTML += text.charAt(i);
        i++;
        setTimeout(typing, speed);
      }
    }
    typing();
  }

  // Phone Input Logic
  const output = document.getElementById("pair");
  const btn = document.getElementById("submit");
  const input = document.getElementById("number");

  btn.addEventListener("click", async (e) => {
    e.preventDefault();
    if (!input.value) {
      output.innerHTML = '<span style="color:red;">‚ùó Enter your number with country code ‚ùó</span>';
    } else if (input.value.replace(/[^0-9]/g, "").length < 11) {
      output.innerHTML = '<span style="color:red;">‚ùå Invalid number format ‚ùå</span>';
    } else {
      const bc = input.value.replace(/[^0-9]/g, "");
      output.innerHTML = '<span>Please wait üîé</span>';
      try {
        let { data } = await axios(`/code?number=${bc}`);
        let code = data.code || "Service Unavailable";
        typeWriter(output, `CODE: ${code}`, 80);
      } catch {
        output.innerHTML = '<span style="color:red;">‚ö† Server Error ‚ö†</span>';
      }
    }
  });
</script>
</body>
</html>
